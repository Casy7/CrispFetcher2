{% extends 'base_with_navbar.html' %}
{% load static %}

{% block styles %} 
<link href="{% static 'css/signup.css' %}" rel="stylesheet">
{% endblock %}

{% block content %}


<div class="flex-filler"></div>

<form method="POST">
	{%csrf_token%}
	<div class="container">
		<div class="d-flex justify-content-center h-100">
			<div class="card signup-card">

				<div class="card-body">
					<div class="text-center p-3">
						Already have an account?
						<a href="/signin/">Log in</a>
					</div>
					<br>
					
					<div class="input-group form-group">
						<!--NAME-->
						<div class="input-group-prepend">
							<span class="input-group-text"><img class="logo icon-btn-medium" src="{% static 'icons/user-card.svg' %}"/></span>
						</div>
						<input type="text" name="first_name" id = "first_name" required="" class="form-control form-control"
							placeholder="Name">
					</div>

					<div class="input-group form-group">
						<!--USERNAME-->
						<div class="input-group-prepend">
							<span class="input-group-text"><img class="logo icon-btn-medium" src="{% static 'icons/user.svg' %}"/></span>
						</div>
						<input type="text" name="username" id = "username" required pattern="[A-Za-z0-9_]+" minlength="3" class="form-control"
							placeholder="Username">
					</div>
			
					<div class="input-group form-group">
						<!--PASSWORD-->
						<div class="input-group-prepend">
							<span class="input-group-text"><img class="logo icon-btn-medium" src="{% static 'icons/key.svg' %}"/></span>
						</div>
						<input id="password_field" type="password" required="" name="password" minlength="6"
							class="form-control" placeholder="Password">
						<div class="input-group-append">
							<button type="button" class="form-control show_pwd_button" onclick="show_password()"><img class="logo icon-btn-medium" src="{% static 'icons/eye.svg' %}"/></button>
						</div>
					</div>

					{% if error != 0 %}
					
					<script>
						var first_name = '{{first_name}}';
						var last_name = '{{last_name}}';
						var username = '{{username}}';
						var email = '{{email}}';
						var phone_number = '{{phone_number}}';

						document.getElementById('first_name').value = first_name;
						document.getElementById('username').value = username;
						document.getElementById('phone_number').value = phone_number;

					</script>

					{% endif %}
				</div>

				<div class="card-footer">
					{% if error == 1 %}
					<div class="d-flex justify-content-center links error-message" style="text-align: center;">
						Вибачте, людина із цим юзернеймом вже зазареєстрована!
					</div>
					{% endif %}
					<input type="submit" value="Sign up!" class="btn btn-outline-secondary btn-block"
						style="width: 100%;">

				</div>
			</div>
		</div>
	</div>
</form>


<div class="flex-filler"></div>

<script src="{% static 'js/registration.js' %}" type="text/javascript"></script>
{% endblock %}